{% extends 'base/_base.html' %}
{% load static %}

{% block content %}
<div class="max-w-4xl mx-auto mt-28 mb-4 px-6 py-8 bg-white dark:bg-[#2b2c2b] rounded-2xl shadow-md">
  <h1 class="text-3xl font-semibold mb-6 text-gray-800 dark:text-white">–ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h1>

  <div class="flex flex-wrap gap-6 justify-between items-start mb-6">
    <div class="flex-grow min-w-[250px] text-gray-700 dark:text-gray-200 space-y-2">
      <p><strong>–Ü–º º—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:</strong> {{ user.username }}</p>
      <p><strong>–ì—Ä—É–ø–∞:</strong>
        {% if user.group %}
          {{ user.group.name }}
        {% else %}
          –ù–µ –≤–∫–∞–∑–∞–Ω–æ
        {% endif %}
      </p>
      <p><strong>–î–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è:</strong> {{ user.birth_date|default:"–ù–µ –≤–∫–∞–∑–∞–Ω–æ" }}</p>
      <p><strong>–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞:</strong> {{ user.email|default:"–ù–µ –≤–∫–∞–∑–∞–Ω–æ" }}</p>
      <p><strong>–°—Ç–∞—Ç—å:</strong>
        {% if user.gender == 'male' %}–ß–æ–ª–æ–≤—ñ–∫
        {% elif user.gender == 'female' %}–ñ—ñ–Ω–∫–∞
        {% elif user.gender == 'other' %}–Ü–Ω—à–µ
        {% else %}–ù–µ –≤–∫–∞–∑–∞–Ω–æ
        {% endif %}
      </p>
    </div>
    <div>
      {% if user.avatar %}
        <img src="{{ user.avatar.url }}" alt="–§–æ—Ç–æ –ø—Ä–æ—Ñ—ñ–ª—é"
             class="w-36 h-36 rounded-full object-cover shadow-md border border-gray-300 dark:border-gray-600">
      {% else %}
        <img src="{% static 'images/default-avatar.png' %}" alt="–§–æ—Ç–æ –ø—Ä–æ—Ñ—ñ–ª—é"
             class="w-36 h-36 rounded-full object-cover shadow-md border border-gray-300 dark:border-gray-600">
      {% endif %}
    </div>
  </div>

  <div class="mt-4">
    <a href="{% url 'edit_profile' %}"
       class="inline-block bg-transparent text-blue-600 dark:text-blue-400 border border-blue-600 dark:border-blue-400 px-4 py-2 rounded-lg hover:bg-blue-600 hover:text-white dark:hover:bg-blue-400 dark:hover:text-black transition">
      ‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å
    </a>
  </div>

  <hr class="my-8 border-gray-300 dark:border-gray-600">

  <div class="text-gray-700 dark:text-gray-200 space-y-3">
    <p><strong>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</strong> {{ portfolio.title|default:"–ù–µ –≤–∫–∞–∑–∞–Ω–æ" }}</p>
    <p><strong>–û–ø–∏—Å:</strong> {{ portfolio.description|default:"–ù–µ –≤–∫–∞–∑–∞–Ω–æ" }}</p>

    {% if portfolio.is_image %}
      <img src="{{ portfolio.media.url }}" alt="{{ portfolio.title }}" class="w-full max-w-md rounded-lg shadow-md">
    {% elif portfolio.is_video %}
      <video class="w-full max-w-md rounded-lg shadow-md" controls>
        <source src="{{ portfolio.media.url }}" type="video/mp4">
        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –≤—ñ–¥–µ–æ.
      </video>
    {% else %}
      <a href="{{ portfolio.media.url }}" class="text-blue-500 underline">{{ portfolio.media.name }}</a>
    {% endif %}

    <div class="flex gap-4 mt-4">
      <a href="{% url 'portfolio_like' portfolio_id=portfolio.id %}"
         class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition">üëç –õ–∞–π–∫</a>
      <a href="{% url 'portfolio_dislike' portfolio_id=portfolio.id %}"
         class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition">üëé –î–∏–∑–ª–∞–π–∫</a>
    </div>
  </div>
</div>
{% endblock %}
