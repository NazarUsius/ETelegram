{% extends 'base/_base.html' %}
{% block content %}
<br>
<br>
<br>
<br>
<br>
<form method="get" class="mb-4">
    {{ form.as_p }}
    <button type="submit" class="btn btn-primary">Фільтрувати</button>
</form>
<div class="container mt-5">
  <h2 class="text-center mb-4">Список оцінок</h2>
<a href="?sort=subject">Сортувати за роботою</a>
<a href="?sort=date">Сортувати за датою</a>
<a href="?sort=evaluation_type">Сортувати за предметом</a>
<a href="?sort=grade">Сортувати за оцінкою</a>

  <table class="table table-bordered table-hover">
    <thead class="thead-light">
      <tr>
        <th>Учень</th>
        <th>Клас</th>
        <th>Предмет</th>
        <th>Тип</th>
        <th>Оцінка</th>
        <th>Дата</th>
      </tr>
    </thead>
    <tbody>
      {% for grade in grades %}
      <tr>
        <td>{{ grade.user.username }}</td>
        <td>{{ grade.user.group }}</td>
        <td>{{ grade.subject.name }}</td>
        <td>{{ grade.get_evaluation_type_display }}</td>
        <td>{{ grade.grade }}</td>
        <td>{{ grade.date }}</td>
      </tr>

      {% empty %}
      <tr>
        <td colspan="6" class="text-center">Оцінок ще немає.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{{ average }}
</div>

{% endblock %}
