{% extends 'base/_base.html' %}

{% block content %}
<div class="max-w-5xl mx-auto mt-24 mb-4 px-4">
  <h2 class="text-3xl font-bold text-center text-gray-800 dark:text-white mb-10">üìÅ –°–ø–∏—Å–æ–∫ –º–µ–¥—ñ–∞</h2>

  <ul class="space-y-8">
    {% for media in media_list %}
      <li class="bg-white dark:bg-[#2b2c2b] rounded-xl shadow-md p-6">
        
        {% if media.is_image %}
          <img src="{{ media.media.url }}" alt="{{ media.title }}" class="w-full h-64 object-cover rounded-lg shadow mb-4">
        {% elif media.is_video %}
          <video class="w-full h-64 rounded-lg shadow mb-4" controls>
            <source src="{{ media.media.url }}" type="video/mp4">
            –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –≤—ñ–¥–µ–æ.
          </video>
        {% else %}
          <a href="{{ media.media.url }}" class="text-blue-500 underline break-all mb-4 block">{{ media.media.name }}</a>
        {% endif %}

        <div class="space-y-1">
          {% if media.title %}
            <p class="text-lg font-semibold text-gray-900 dark:text-white">üìå {{ media.title }}</p>
          {% endif %}
          {% if media.description %}
            <p class="text-gray-700 dark:text-gray-300">{{ media.description }}</p>
          {% endif %}
          <p class="text-sm text-gray-600 dark:text-gray-400">üë§ –ê–≤—Ç–æ—Ä: {{ media.author.username }}</p>
          <p class="text-sm text-gray-600 dark:text-gray-400">üìÖ –°—Ç–≤–æ—Ä–µ–Ω–æ: {{ media.created_at }}</p>
        </div>

        <div class="mt-4">
          <a href="{% url 'verify_media' media_id=media.id %}" 
            class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition">
            ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏
          </a>
        </div>
      </li>
    {% empty %}
      <li class="text-center text-gray-500 dark:text-gray-400">üòî –ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î –º–µ–¥—ñ–∞.</li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
